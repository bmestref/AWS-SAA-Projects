# Creating an EC2 Instance AMI

In this project we will create an AMI from the customized source instance and use this to deploy a custom EC2 instance from this AMI. This project starts from the insfrastructure created in [ManualInstallation](https://github.com/bmestref/AWS-SAA-Projects/EC2/ManualInstallation) repo. There, Wordpress was manually installed on a EC2 instance. <br/>

1 - In order to create an AMI from a running instance, first make sure the instance is shut down so no inconsistency issues are raised, so move to the EC2 console, go to 'Instances running', right click on the instance and then click on 'Stop instance'. Acknowledge the stop of the instance, and once it is done right click again on it, go down to 'Image and templates' and select 'Create image'. <br/>

2 - First, give a name for the AMI (we will enter the same on the description box). This will create a snapshot of any EBS volumes which this instance is using as well as create a block device mapping which maps those snapshots to a particular device ID (it will set up the storage such as it is identical to the storage used by the original instance). It is possible to change the volume size, but for this project we will leave this configuration on default so scroll down to the bottom and click on 'Create image'. That process may take some time, and its status can be checked by going to the menu on the left and under 'Elastic Block Store' click on 'Snapshots'. It is worth that since snapshots are incremental, generally the first snapshot will take longer since needs to copy all the content as well as the infrastructure of the instance (future snapshots will only need new changes to be saved). <br/>

3 - Once the AMI state has moved to complete state, we will test how quicker launching an instance from an AMI can be from the perspective of launching and installing all the dependencies manually. For that matter, right click on the AMI and next click on 'Launch an instance'. Enter a name for the instance (whatever you want), on 'Instance type' make sure you fall within the free tier, and on 'Key pair name' proceed without a key pair. Also, on 'Network settings' make sure you select the VPC we created earlier in the repo under 'VPC - required', also select 'web-A' subnet in the 'Subnet' box. Next, make sure on the boxes below both Auto-assign options are enabled and under 'Firewall' select 'Select existing security group' and in the dropdown below select the only one available. Finish the creation of the instance clicking at the end of the page on 'Launch instance'. <br/>

4 - This process can scale as much as possible, deploying a number of instances and configure them automatically via an AMI. <br/>

5 - Now, you can finally tidy up and remove all the resources created throughout this "short" project (instance deletion) except the AMI (it will be used to deploy instances on external AWS regions on next projects). If you do not aim to continue with the rest of the projects, delete the AMI. <br/>
