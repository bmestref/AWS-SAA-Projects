# Migrating EC2 DB into RDS

In this mini-project we will create a MySQL RDS instance and migrate the Wordpress Database from the self-managed MariaDB server running on EC2 into this RDS instance.

1 - As always, make sure you're logged in the General AWS account in the us-east-1 region. <br/>
2 - Next, to start from the point we left on the previous lesson, we will deploy some infrastructures using a CloudFormation template attached to the project. Wait until the stack has been deployed successfully. <br/>
3 - We can check what resources were created by moving to the EC2 console. Two instances have beenc created with the CloudFormation template, the same two as we used in previous mini-projects, one hsoting the Apache Web Server and the other running the Maria database. <br/>
4 - Now, we will get across the main objective of the project and migrate data from the instance database to RDS so move to the RDS console in AWS (it will enable initiate RDS instances which host databases that your applications can use). In order to provision with a RDS instance, the frist thing we need to do is to create an instance group (this is how we inform RDS what subnets from our VPC need to be used to host the database) so on the menu on the left click on 'Subnet group' and next on 'Create subnet group'. Enter a name for the subnet group and in the VPC dropdown select the VPC which was created with the CloudFormation tempalte deployed at the start of this project. Scroll down to the bottom and pick either the subnets and the AZs which will be used to host the databases. Once you have configured all of that, we can go ahead and click on 'Create'. Let's stress out once more the role of subnets group: they tell the RDS what subnets place the database instances into. <br/>
5 - Next, let's create a RDS database so on the menu on the left click on 'Database' and click on 'Create database'. Now, when you're creating a database, you can pick between the 'Standart create' where you can customize every layer of configuration or 'Easy create', where the best-practice settings are selected automatically. Pick the first so we will get some hands-on experience. Now, when creating an RDS database instance, you can pick between a sort of different database engines, among them Aurora SQL, MySQL, PostgreSQL, etc. Pick the one that suits the best to your requirements. For this project, we will be using MySQL. Scroll down and you will be able to pick between different versions of the database engine (ensure you pick the correct version). Scroll down a little bit and we will get across the 'Templates' box where you can pick the instance type, among them you will be able to deploy 'Production', 'Dev/Test' or 'Free tier' instances. In case we pick the 'Free tier' instance type, we will not be able to change settings on 'Durability and Availability'. Scroll down a little bit more and under 'Settings' we will enter a unique identifier capabel of uniquely identify the instance among others in the AWS account. Also, pick a username whcih will be recipient of special privilegies to access the instance. Also, it is required to enter a password for the RDS instance. Keep scrolling down and under 'Instance configuration' pick a database instance type which suits to the task demands of your own. Next, under 'Storage' pick the amount and type of storage we will use. In case we selected at the beggining the MYSQL database engine, it is required to pick a storage type. For this project we will pick the smallest one that falls within the free tier plan so nothing is charged on our AWS bill. Next, under 'Connectivity' pick a VPC and a subnet belonging to the VPC entered to alocate the instance into. Next, under 'Public access' we can pick between enabling public access to the database or not. Since this database instance is intended to connect to the WordPress instance which is locally located within the VPC then no need to grant public access so pick private access. Another layer of privacy internally can be added by attaching a security group to the RDS instance, either creating a brand new of picking an already existing one. We will go for the last option so under 'VPC security group (firewall)' pick 'Create new', enter a VPC to attach the security group to as well as a AZ (or leave it as 'No preference' if we left this choice up to RDS). The rest of configuration can be left on default except 'Additional configuration'. Expand that window and since we are migrating database from an already existing one, enter on 'Initial database name' a name of your choice. Extra features regarding automatic backups and database monitoring are listed at the end of the expanded window. Finish the RDS instance creation by scrolling down to the bottom and click on 'Create'. It may take some time (around 15 minutes) to create the database. <br/>

6 - 
